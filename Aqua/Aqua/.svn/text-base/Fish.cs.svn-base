using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Drawing;
using System.Reflection;

namespace Aqua
{
    class Fish: BaseObject
    {
        static Random random = new Random();        
        
        public Fish(int width, int height)
        {
            picture = new Bitmap(Assembly.GetExecutingAssembly().GetManifestResourceStream("Aqua.Fish.PNG"));
            picture.MakeTransparent();
            
            size = Math.Max (picture.Width, picture.Height);
            shiftMax = 5;
            this.width = width;
            this.height = height;            

            x = random.Next(0, width - size);
            y = random.Next(0, height - size);
        }

        public override void Draw(Graphics g)
        {
            g.DrawImage(picture, x, y);            
        }

        public override void Tick()
        {
            int shiftX = random.Next(-shiftMax, shiftMax);
            int shiftY = random.Next(-shiftMax, shiftMax);

            x += shiftX;
            x = Math.Min(x, width - size);
            x = Math.Max(x, 0);

            y += shiftY;
            y = Math.Min(y, height - size);
            y = Math.Max(y, 0);            
        }
    }
}