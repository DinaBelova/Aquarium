using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Drawing;
using System.Windows.Forms;
using System.Reflection;

namespace Aqua
{
    class AquaCore
    {
        private int count;
        private Bitmap fishPicture = new Bitmap(Assembly.GetExecutingAssembly().GetManifestResourceStream("Aqua.Fish.PNG"));
        private List <BaseObject> objectList;

        public void Initialize (int count, int width, int height)
        {
            this.count = count;
            objectList = new List<BaseObject>();

            for (int i = 0; i < count; i++)
            {
                objectList.Add (new Fish(width, height));
            }            
        }

        public void Tick()
        {
            if (objectList == null)
            {
                throw new ApplicationException("Сначала следует вызвать метод Initialize()");
            }

            foreach (BaseObject obj in objectList)
            {
                obj.Tick();
            }            
        }      

        public void Draw(Graphics g)
        {
            if (objectList == null)
            {
                throw new ApplicationException("Сначала следует вызвать метод Init()");
            }

            foreach (BaseObject obj in objectList)
            {
                obj.Draw(g);
            }            
        }        
    }
}